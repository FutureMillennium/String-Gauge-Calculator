<html>
<head>
  <title>String gauge calculator v1.0</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta name="author" content="Zdeněk Gromnica" /> 
  <meta name="Description" content="" /> 
  <meta name="copyright" content="© 2010 Zdeněk Gromnica" /> 
  <meta name="content-language" content="en" /> 
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script>
  <style>
body {
  margin: 25px 25px 60px 25px;
  font-family: Segoe UI, Tahoma, sans-serif;
  color: #000;
  background: #fff;
  font-size: 14px;
}
a {
  color: #0cf;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}
input {
  font-family: Segoe UI, Tahoma, sans-serif;
}
table {
  border-collapse: collapse;
}
table td {
  border: 1px #ccc solid;
  padding: 3px 5px;
  min-width: 50px;
  text-align: center;
}
table th {
  border: 1px #ccc solid;
  padding: 3px 5px;
  background: #eee;
}
table td.first {
  font-weight: bold;
  background: #eee;
  text-align: right;
}
button {
  padding: 12px 16px;
}
.centeri {
  text-align: center;
}
.righti {
  text-align: right;
}
h1 {
  margin: 10px 0 5px 0;
}
h2 {
  margin: 40px 0 10px 0;
}
#footer {
  padding-top: 20px;
  font-size: 80%;
  color: #ccc;
}
.abutton {
  display: inline-block;
  padding: 5px;
  background: #0cf;
  color: #fff;
  -moz-border-radius: 4px;
  -webkit-border-radius: 4px;
  border-radius: 4px;
}
.hidden {
  display: none;
}
</style>
</head>
<body>
<h1 id="top">String gauge calculator</h1>

<p>Version 1.01 by <a href="http://future.millenniumweb.net/">Zdeněk Gromnica a.k.a. FutureMillennium</a>. JavaScript must be enabled.</p>

<p>Steel strings only for now. Won't work with nylon or gut strings. Will be addressed in the future.</p>

<p><a href="#steel-strings" class="abutton">Calculate steel string gauges</a></p>

<h2><a href="" onClick="$('#tonetable').slideToggle(500); return false;">Tones and their frequencies »</a></h2>

<div id="tonetable" class="hidden">
<table>
<script>
var notes = new Array("C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B");
var frequencies = new Array();
var tnotes = new Array();
var tnote = 0;
var toctave = -1;
document.write("<tr><th></th>");
for (var i = 0; i < 12; i++) {
  document.write("<th>"+notes[i]+"</th>")
}
document.write("</tr>");
for (var i = -20; i < 148; i++) {
  if (tnote == 0) {
    document.write("<tr><td class=\"first\">"+toctave+"</td>");
  }
    
  var tfrequency = 440 * Math.pow(Math.pow(2, i - 49), 1/12);
  frequencies.push(tfrequency);
  tnotes.push(notes[tnote]+toctave);
  var tfreq = tfrequency.toFixed(2);
  document.write("<td>"+tfreq+"</td>");
  tnote++;
  
  if (tnote == 12) {
    tnote = 0;
    toctave++;
    document.write("</tr>");
  }
}
</script>
</table>
</div>

<h2>Tunings and scale lengths</h2>

<p>Standard instrument tunings, from low to high:</p>
<ul>
  <li><strong>Guitar:</strong> E2 A2 D3 G3 B3 E4</li>
  <li><strong>Violin/Mandolin:</strong> G3 D4 A4 E5</li>
  <li><strong>Viola:</strong> C3 G3 D4 A4</li>
  <li><strong>Cello:</strong> C2 G2 D3 A3</li>
  <li><strong>Bass Guitar/Double Bass:</strong> E1 A1 D2 G2</li>
</ul>

<p>Standard instrument scale lengths:</p>
<ul>
  <li><strong>Classical Guitar:</strong> 25.6 in (650 mm)</li>
  <li><strong>Fender Electric Guitar: </strong> 25.5 in</li>
  <li><strong>Gibson Electric Guitar: </strong> 24.75 in</li>
  <li><strong>Violin:</strong> 12.8 in (327 mm)</li>
  <li><strong>Double Bass:</strong> 42.3-43.3 in (1050–1100 mm)</li>
  <li><strong>Mandolin:</strong> 13-13.875 in (330-352 mm)</li>
</ul>

<h2 id="steel-strings">Steel strings</h2>

<p>One string at a time for now. Will be addressed in the future.</p>

<p><!-- <label for="material">Material density: <input type="text" id="material" value="7800" /> kg/m<sup>3</sup></label><br /> -->
<span class="param">Material density: 7800 kg/m<sup>3</sup></span><br />
<span class="param"><label for="scale"><strong>Scale length:</strong> <input type="text" class="righti" size="5" id="scale" value="25.5" /> inch</label> <label for="scale2"><input type="text" class="righti" size="5" id="scale2" value="647.70" /> mm</label></span><br />
<span class="param"><label for="otension"><strong>Desired tension:</strong> <input type="text" class="righti" size="5" id="otension" value="22.5" /> lbs</label> <label for="otension2"><input type="text" class="righti" size="5" id="otension2" value="100" /> newtons</label></span><br />
<span class="param"><label for="kfactor">K-factor: <input type="text" class="righti" onchange="calculate();" size="5" id="kfactor" value="0.9" /></label></span>
</p>

<table>
  <tr>
    <th></th>
    <th>Note</th>
    <th>Frequency</th>
    <th>Plain or wound</th>
    <th>Tension</th>
    <th>Gauge (inch)</th>
    <th>Gauge (mm)</th>
  </tr>
  <tr>
    <td>1.</td>
    <td><input type="text" class="centeri" size="5" id="note" value="A4" /></td>
    <td><label for="frequency"><input type="text" class="centeri" size="10" id="frequency" value="440" /> Hz</label></td>
    <td><label for="wound-0"><input type="radio" name="wound" onchange="calculate();" id="wound-0" value="0" checked="checked" /> Plain</label> <label for="wound-1"><input type="radio" name="wound" onchange="calculate();" id="wound-1" value="1" /> Wound</label></td>
    <td><label for="tension"><input type="text" class="centeri" size="5" id="tension" value="22.5" /> lbs</label> <input type="text" class="centeri" size="5" id="tension2" value="100" /> N</label></td>
    <td><span id="result">0.009 inch</span></td>
    <td><span id="result2">0.224 mm</span></td>
  </tr>
</table>

<p><button id="calculate" onClick="calculate(); return false;">Calculate</button></p>

<p><a href="#top" class="abutton">Back to top</a></p>

<script>
$('#scale').change(function() {
  $('#scale2').val((this.value * 25.4).toFixed(2));
  calculate();
});
$('#scale2').change(function() {
  $('#scale').val((this.value / 25.4).toFixed(2));
  calculate();
});

$('#otension').change(function() {
  $('#otension2').val((this.value / 0.225).toFixed(3));
  $('#tension').val(this.value);
  $('#tension2').val((this.value / 0.225).toFixed(3));
  calculate();
});
$('#otension2').change(function() {
  $('#otension').val((this.value * 0.225).toFixed(3));
  $('#tension').val((this.value * 0.225).toFixed(3));
  $('#tension2').val(this.value);
  calculate();
});
$('#tension').change(function() {
  $('#tension2').val((this.value / 0.225).toFixed(3));
  calculate();
});
$('#tension2').change(function() {
  $('#tension').val((this.value * 0.225).toFixed(3));
  calculate();
});
$('#note').change(function() {
  var tfound = tnotes.indexOf(this.value.toUpperCase());
  if (tfound != -1) {
    $('#frequency').val(frequencies[tfound]);
    calculate();
  }
});
$('#frequency').change(function() {
  $('#note').val('');
  calculate();
});
function calculate() {
  var tresult = (20.86 * Math.sqrt($('#tension').val())) / ($('#scale').val() * $('#frequency').val());
  if ($('input:checked[name=wound]').val() == 1)
    tresult /= $('#kfactor').val();
  $('#result').text(tresult.toFixed(3)+" inch");
  tresult *= 25.4;
  $('#result2').text(tresult.toFixed(3)+" mm");
}
</script>

<div id="footer">
&copy; 2010 <a href="http://future.millenniumweb.net/">Zdeněk Gromnica</a>
</div>
</body>
</html>